# Speech analyzer

Extracts formants and speech speed from video

## Tech
python 3.8.6
with libraries:
* matplotlib 3.3.3
* scipy 1.6.0
* moviepy 1.0.3
* cv2 4.5.1

## Installation
```sh
pip3 install matplotlib
pip3 install scipy
pip3 install moviepy
pip3 install opencv-contrib-python
```

## Usage
Speech speed:
```sh
python3 speechSpeed.py video.mp4
```

To save formant data to formants.npy:
```sh
python3 formants.py video.mp4
```
And to plot formant frequency plot:
```sh
python3 load.py
```

## Description

Скорость речи.
Строим график аудио сигнала. Для него строим огибающий максимум. По некторому порогу определяем, в каких местах человек молчит, а в каких говорит. Так же считаем количество слов как количество переходов молчание->говорение. Отсюда считаем скорость речи как (Суммарная длительность говорения)/(количество пауз) = средняя скорость произношения слова. На самом деле это среднее время произношения слова, т.е. обратная величина от скорости.

Форманты. (форманта в данном случае - пик спектрограммы, графика с частотой звука по оси Х и амплитудой по оси Y)
Берём интервалы по 1/8 секунды, для аудио стоим спектр с помощью быстрого преобразования Фурье. Спектр человеческого голоса
выглядит как гребёнка, где зубцы - это наши форманты. Они находятся на одинаковом частотном расстоянии. Отсекаем интервалы с слишком малой максимальной амплитудой звука либо спектра. После этого находим форманты.
